var egret=window.egret,__reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);i.prototype=t.prototype,e.prototype=new i},JSONParseClass=function(){function e(){this.skinClass={},this.euiNormalizeNames={$eBL:"eui.BitmapLabel",$eB:"eui.Button",$eCB:"eui.CheckBox",$eC:"eui.Component",$eDG:"eui.DataGroup",$eET:"eui.EditableText",$eG:"eui.Group",$eHL:"eui.HorizontalLayout",$eHSB:"eui.HScrollBar",$eHS:"eui.HSlider",$eI:"eui.Image",$eL:"eui.Label",$eLs:"eui.List",$eP:"eui.Panel",$ePB:"eui.ProgressBar",$eRB:"eui.RadioButton",$eRBG:"eui.RadioButtonGroup",$eRa:"eui.Range",$eR:"eui.Rect",$eRAl:"eui.RowAlign",$eS:"eui.Scroller",$eT:"eui.TabBar",$eTI:"eui.TextInput",$eTL:"eui.TileLayout",$eTB:"eui.ToggleButton",$eTS:"eui.ToggleSwitch",$eVL:"eui.VerticalLayout",$eV:"eui.ViewStack",$eVSB:"eui.VScrollBar",$eVS:"eui.VSlider",$eSk:"eui.Skin"}}return e.prototype.setData=function(e){if(this.json){this.parseSkinMap(e);for(var t in e)this.json[t]=e[t]}else this.json=e,this.parseSkinMap(this.json)},e.prototype.generateSkinClass=function(e,t,i){function r(){n.call(this),window.JSONParseClass.create(t,this)}if(!e)return null;for(var s=i.split("."),n=window,a=0,o=s;a<o.length;a++){var u=o[a];n=n[u]}return __extends(r,n),__reflect(r,t,[i]),r},e.prototype.parseSkinMap=function(e){var t={};for(var i in e){var r=e[i];if(r){for(var s=i.split("."),n=window,a=0,o=s;a<o.length;a++){var u=o[a],l=n;u!==s[s.length-1]&&(n=n[u],void 0==n&&(n={},l[u]=n))}var p=void 0==this.euiNormalizeNames[r.$sC]?r.$sC:this.euiNormalizeNames[r.$sC];t[i]=n[s[s.length-1]]=this.generateSkinClass(r,i,p),e[i].$path&&(generateEUI2.paths[e[i].$path]=t[i])}}return t},e.prototype.create=function(e,t){return this.json?(this.target=t,this.skinName=e,this.skinClass=this.json[e],this.applyBase(),this.applySkinParts(),this.applyState(),this.applyBinding(),void(void 0==this.skinClass.$sP?this.target.skinParts=[]:this.target.skinParts=this.skinClass.$sP)):(console.log("Missing json defined by eui resource, please modify the theme adapter"),void console.log("缺少eui资源定义的json，请修改主题适配器"))},e.prototype.applySkinParts=function(){if(void 0!=this.skinClass.$sP)for(var e=0,t=this.skinClass.$sP;e<t.length;e++){var i=t[e];void 0==this.target[i]&&this.createElementContentOrViewport(i)}},e.prototype.applyBase=function(){void 0!=this.skinClass.$bs&&this.addCommonProperty("$bs",this.target)},e.prototype.createElementContentOrViewport=function(e){var t,i=this.getNormalizeEuiName(this.skinClass[e].$t);if("egret.tween.TweenGroup"==i)t=this.creatsEgretTweenGroup(e);else{var r=egret.getDefinitionByName(i);this.$createNewObject(function(){t=new r}),this.addCommonProperty(e,t)}return this.target[e]=t,t},e.prototype.$createNewObject=function(e){var t=this.skinName,i=this.target;e(),this.skinName=t,this.skinClass=this.json[this.skinName],this.target=i},e.prototype.creatsEgretTweenGroup=function(e){for(var t=this.createTypeObject(e),i=[],r=0,s=this.skinClass[e].items;r<s.length;r++){var n=s[r];i.push(this.createEgretTweenItem(n))}return t.items=i,t},e.prototype.createEgretTweenItem=function(e){var t=this,i=this.createTypeObject(e),r=[],s=function(s){var a=n.skinClass[e][s];if("$t"==s||"target"==s);else if("paths"==s)for(var o=0,u=a;o<u.length;o++){var l=u[o];r.push(n.createSetOrTo(l))}else"target"==s?n.$createNewObject(function(){i[s]=t.createElementContentOrViewport(a),t.target[a]=i[s]}):i[s]=a},n=this;for(var a in this.skinClass[e])s(a);return i.paths=r,this.target[e]=i,i},e.prototype.createSetOrTo=function(e){var t=this.createTypeObject(e);for(var i in this.skinClass[e]){var r=this.skinClass[e][i];"$t"==i||"target"==i||("props"==i?(t[i]=this.createObject(r),this.target[r]=t[i]):t[i]=r)}return t},e.prototype.createObject=function(e){var t={};for(var i in this.skinClass[e])"$t"==i||"target"==i||(t[i]=this.skinClass[e][i]);return t},e.prototype.addCommonProperty=function(e,t){var i,r,s=function(s){var a=n.skinClass[e][s];"$t"==s||("layout"==s?t[s]=n.createLayout(a):"$eleC"==s?i=a:"$sId"==s?r=a:"scale9Grid"==s?t[s]=n.getScale9Grid(a):"skinName"==s?n.$createNewObject(function(){t[s]=a}):"itemRendererSkinName"==s?n.$createNewObject(function(){for(var e=a.split("."),i=window,r=0,n=e;r<n.length;r++){var o=n[r];i=i[o]}t[s]=i}):"itemRenderer"==s?t[s]=egret.getDefinitionByName(a):"dataProvider"==s?t[s]=n.createDataProvider(a):"viewport"==s?t[s]=n.createElementContentOrViewport(a):t[s]=a)},n=this;for(var a in this.skinClass[e])s(a);var o=[];if(i&&i.length>0)for(var u=0,l=i;u<l.length;u++){var p=l[u],h=this.createElementContentOrViewport(p);o.push(h)}if(t.elementsContent=o,r&&r.length>0)for(var c=0,g=r;c<g.length;c++){var p=g[c];this.createElementContentOrViewport(p)}return t},e.prototype.createLayout=function(e){var t=this.createTypeObject(e),i=this.skinClass[e];for(var r in i)"$t"!==r&&(t[r]=i[r]);return this.target[e]=t,t},e.prototype.applyState=function(){if(void 0!=this.skinClass.$s){var e=[];for(var t in this.skinClass.$s){var i=[],r=this.skinClass.$s[t];if(r.$saI)for(var s=0,n=r.$saI;s<n.length;s++){var a=n[s];i.push(new eui.AddItems(a.target,a.property,a.position,a.relativeTo))}if(r.$ssP)for(var o=0,u=r.$ssP;o<u.length;o++){var a=u[o];if(a.name){var l=a.value;"scale9Grid"==a.name&&(l=this.getScale9Grid(a.value)),i.push(new eui.SetProperty(a.target,a.name,l))}else i.push(new eui.SetStateProperty(this.target,a.templates,a.chainIndex,this.target[a.target],a.property))}e.push(new eui.State(t,i))}this.target.states=e}},e.prototype.applyBinding=function(){if(void 0!=this.skinClass.$b)for(var e=0,t=this.skinClass.$b;e<t.length;e++){var i=t[e];void 0!==i.$bc?eui.Binding.$bindProperties(this.target,i.$bd,i.$bc,this.target[i.$bt],i.$bp):eui.Binding.bindProperty(this.target,i.$bd[0].split("."),this.target[i.$bt],i.$bp)}},e.prototype.createDataProvider=function(e){if(""!=e){for(var t=this.createTypeObject(e),i=[],r=0,s=this.skinClass[e].source;r<s.length;r++){var n=s[r];i.push(this.createItemRender(n))}return t.source=i,t}},e.prototype.createItemRender=function(e){var t=this.createTypeObject(e);for(var i in this.skinClass[e])"$t"!=i&&(t[i]=this.skinClass[e][i]);return t},e.prototype.getNormalizeEuiName=function(e){return this.euiNormalizeNames[e]?this.euiNormalizeNames[e]:e},e.prototype.createTypeObject=function(e){var t=this.getNormalizeEuiName(this.skinClass[e].$t),i=egret.getDefinitionByName(t);return new i},e.prototype.getScale9Grid=function(e){var t=e.split(",");return new egret.Rectangle(parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]))},e}();window.JSONParseClass=new JSONParseClass,window.generateEUI2=window.generateEUI2||{},generateEUI2.paths=generateEUI2.paths||{},generateEUI2.styles=void 0,generateEUI2.skins={"eui.Button":"resource/eui_skins/ButtonSkin.exml","eui.CheckBox":"resource/eui_skins/CheckBoxSkin.exml","eui.HScrollBar":"resource/eui_skins/HScrollBarSkin.exml","eui.HSlider":"resource/eui_skins/HSliderSkin.exml","eui.Panel":"resource/eui_skins/PanelSkin.exml","eui.TextInput":"resource/eui_skins/TextInputSkin.exml","eui.ProgressBar":"resource/eui_skins/ProgressBarSkin.exml","eui.RadioButton":"resource/eui_skins/RadioButtonSkin.exml","eui.Scroller":"resource/eui_skins/ScrollerSkin.exml","eui.ToggleSwitch":"resource/eui_skins/ToggleSwitchSkin.exml","eui.VScrollBar":"resource/eui_skins/VScrollBarSkin.exml","eui.VSlider":"resource/eui_skins/VSliderSkin.exml","eui.ItemRenderer":"resource/eui_skins/ItemRendererSkin.exml"};